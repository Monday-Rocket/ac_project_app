# 링크풀 (LinkPool) 개발 작업목록

> Claude Code를 활용한 효율적인 개발 워크플로우 가이드

## 프로젝트 개요

| 항목 | 내용 |
|------|------|
| 앱 | Flutter 모바일 앱 (iOS/Android) - 링크 관리 서비스 |
| Flutter 버전 | 3.38.6 (FVM 사용) |
| 상태관리 | flutter_bloc (Cubit 패턴) |
| DI | get_it |
| CI/CD | GitHub Actions |
| 설정 | `.claude/` 디렉토리 구성됨 |

---

## 추천 Skills

프로젝트에서 활용할 수 있는 Claude Code Skills 목록입니다.

| Skill | 용도 | 사용 시점 | 호출 방법 |
|-------|------|----------|----------|
| `tdd-workflow` | TDD 기반 개발 | 새 기능 개발 | `/tdd-workflow` |
| `tdd` | 테스트 작성 | 커버리지 증가 | `/tdd` |
| `plan` | 기능 설계 | 복잡한 작업 시작 전 | `/plan` |
| `coding-standards` | 코드 품질 | 코드 리뷰 | `/coding-standards` |
| `frontend-patterns` | UI 패턴 | Flutter 위젯 개발 | `/frontend-patterns` |
| `security-review` | 보안 검토 | 릴리즈 전, API 작업 | `/security-review` |
| `e2e` | E2E 테스트 | 통합 테스트 작성 | `/e2e` |

### Skill 사용 예시

```bash
# TDD 기반으로 새 기능 개발
> /tdd-workflow "새 폴더 추가 기능 구현"

# 보안 검토
> /security-review "로그인 API 보안 검토"

# 기능 설계
> /plan "공유 폴더 기능 설계"
```

---

## 프로젝트 커스텀 명령어 (.claude/commands)

`.claude/commands/` 디렉토리에 정의된 프로젝트 전용 명령어입니다.

| 명령어 | 설명 | 파일 |
|--------|------|------|
| `/project:setup` | 프로젝트 초기 설정 | `setup.md` |
| `/project:gen` | 코드 생성 (build_runner + flutter_gen) | `gen.md` |
| `/project:test` | 테스트 실행 | `test.md` |
| `/project:lint` | 린트 검사 및 포맷팅 | `lint.md` |
| `/project:precommit` | 커밋 전 전체 검사 | `precommit.md` |
| `/project:dev-agent` | TDD 기반 개발 에이전트 | `dev-agent.md` |
| `/project:test-agent` | 테스트 커버리지 에이전트 | `test-agent.md` |
| `/project:review-agent` | 코드 리뷰 에이전트 | `review-agent.md` |

### 프로젝트 명령어 사용 예시

```bash
# 초기 설정
> /project:setup

# 새 기능 개발 (TDD)
> /project:dev-agent "폴더 공유 기능 구현"

# 테스트 커버리지 증가
> /project:test-agent "FolderApi 테스트 추가"

# 코드 리뷰
> /project:review-agent "login 디렉토리 리뷰"
```

---

## 추천 Commands (Makefile)

개발 시 자주 사용하는 명령어를 Makefile로 정의했습니다.

| Command | 설명 | 사용 시점 |
|---------|------|----------|
| `make setup` | FVM 설치 및 의존성 설정 | 초기 환경 설정 |
| `make gen` | 코드 생성 (build_runner + fluttergen) | 모델 변경 후 |
| `make test` | 테스트 실행 | 개발 중 |
| `make test-coverage` | 커버리지 리포트 생성 | PR 전 |
| `make lint` | 린트 검사 | 커밋 전 |
| `make lint-fix` | 자동 포맷팅 | 코드 정리 |
| `make precommit` | 커밋 전 검사 (lint + test) | 커밋 전 |
| `make clean` | 빌드 파일 정리 | 문제 발생 시 |
| `make build-android` | Android APK 빌드 | 릴리즈 |
| `make build-ios` | iOS 빌드 | 릴리즈 |

### Command 사용 예시

```bash
# 초기 설정
make setup

# 개발 사이클
make gen        # 코드 생성
make lint-fix   # 포맷팅
make test       # 테스트

# 커밋 전
make precommit
```

---

## 추천 Agents

특정 작업에 특화된 에이전트 설정입니다.

| Agent | 역할 | 사용 시점 | 설명 |
|-------|------|----------|------|
| `dev-agent` | TDD 기반 Flutter 개발 | 기능 개발 | Cubit/API 작성 시 TDD 적용 |
| `test-agent` | 테스트 커버리지 증가 | 테스트 보강 | 미테스트 코드 커버리지 향상 |
| `review-agent` | 코드 리뷰 및 보안 검토 | PR 리뷰 | 코드 품질 및 보안 점검 |

### Agent 프롬프트 예시

#### dev-agent
```
당신은 LinkPool Flutter 앱의 TDD 개발자입니다.
- flutter_bloc (Cubit) 패턴 사용
- get_it으로 DI 구성
- 테스트 먼저 작성 후 구현
- 코드 커버리지 80% 이상 유지
```

#### test-agent
```
당신은 LinkPool의 테스트 전문가입니다.
- Mock Client를 활용한 API 테스트
- Cubit 상태 변화 테스트
- 위젯 테스트 작성
- 테스트 커버리지 리포트 분석
```

#### review-agent
```
당신은 LinkPool의 코드 리뷰어입니다.
- Dart/Flutter 베스트 프랙티스 검토
- 보안 취약점 식별
- 성능 최적화 제안
- 코드 스타일 일관성 확인
```

---

## 추천 Hooks

자동화된 코드 품질 관리를 위한 훅 설정입니다.

| Hook | 트리거 | 동작 | 설정 방법 |
|------|--------|------|----------|
| `pre-commit` | 커밋 전 | 린트 + 테스트 + 커버리지 체크 | `.pre-commit-config.yaml` |
| `post-merge` | 병합 후 | 의존성 업데이트 | git hooks |

### Pre-commit Hook 설정

`.pre-commit-config.yaml` 파일 참조

### Git Hook 예시 (`.git/hooks/pre-commit`)

```bash
#!/bin/bash
echo "Running pre-commit checks..."

# 1. Flutter analyze
fvm flutter analyze
if [ $? -ne 0 ]; then
    echo "Flutter analyze failed"
    exit 1
fi

# 2. Flutter test
fvm flutter test
if [ $? -ne 0 ]; then
    echo "Flutter test failed"
    exit 1
fi

echo "Pre-commit checks passed!"
```

---

## 개발 워크플로우

### 1. 새 기능 개발

```mermaid
graph LR
    A[요구사항 분석] --> B[/plan]
    B --> C[테스트 작성]
    C --> D[구현]
    D --> E[리팩토링]
    E --> F[PR 생성]
```

1. `/plan` - 기능 설계 및 계획 수립
2. `/tdd` - 테스트 먼저 작성
3. 구현 - 테스트 통과하도록 코드 작성
4. `make lint-fix` - 코드 정리
5. `make precommit` - 커밋 전 검사
6. PR 생성

### 2. 버그 수정

1. 버그 재현 테스트 작성
2. 버그 수정
3. 테스트 통과 확인
4. `make precommit`
5. PR 생성

### 3. 코드 리뷰

1. `/coding-standards` - 코드 품질 검토
2. `/security-review` - 보안 검토 (API 관련)
3. 피드백 반영
4. 승인 및 병합

---

## 프로젝트 구조

```
lib/
├── const/          # 상수 정의
├── cubits/         # BLoC/Cubit 상태 관리
│   ├── feed/
│   ├── folders/
│   ├── links/
│   ├── login/
│   └── ...
├── di/             # 의존성 주입 설정
├── gen/            # 자동 생성 파일
├── models/         # 데이터 모델
├── provider/       # API 및 데이터 제공자
│   ├── api/
│   └── login/
├── ui/             # UI 컴포넌트
│   ├── page/
│   ├── view/
│   └── widget/
└── util/           # 유틸리티 함수

test/
├── provider/api/   # API 테스트
├── ui/             # 위젯 테스트
└── util/           # 유틸리티 테스트
```

---

## 관련 문서

- [개발 환경 설정](docs/DEVELOPMENT_SETUP.md)
- [아키텍처 가이드](docs/ARCHITECTURE.md)
- [테스트 가이드](docs/TESTING_GUIDE.md)
- [기여 가이드](CONTRIBUTING.md)

---

## 빠른 시작

```bash
# 1. 저장소 클론
git clone https://github.com/Monday-Rocket/ac_project_app.git

# 2. 프로젝트 디렉토리 이동
cd ac_project_app

# 3. 환경 설정
make setup

# 4. 코드 생성
make gen

# 5. 앱 실행
fvm flutter run
```
